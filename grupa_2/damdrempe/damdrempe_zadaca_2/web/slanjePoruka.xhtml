<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <f:view locale="#{lokalizacija.odabraniJezik}">
        <h:head>
            <title>#{p['index.veza_slanjePoruke']}</title>
            <h:outputStylesheet library="css" name="bootstrap.css" />
        </h:head>
        <div class="container-fluid">
            <h:body>        
                <h:form>
                    <h:commandLink action="#{slanjePoruka.promjeniJezik()}" 
                                   value="#{p['index.naslov']}" />
                    &nbsp;
                    <h:commandLink action="#{slanjePoruka.pregledPoruka()}" 
                                   value="#{p['index.veza_pregledPoruka']}" />
                    &nbsp;
                    <h:commandLink action="#{slanjePoruka.pregledDnevnika()}" 
                                   value="#{p['index.veza_pregledDnevnika']}" />
                </h:form>
                <h1>#{p["index.veza_slanjePoruke"]}</h1>

                <h:form class="form-horizontal">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <h:outputLabel value="#{p['slanje.labela_prima']}"
                                               class="col-md-2 control-label"/>
                                <div class="col-md-6">
                                    <h:inputText value="#{slanjePoruka.prima}"
                                                 validatorMessage="#{p['slanje.validacija_prima']}"
                                                 required="true"
                                                 requiredMessage="#{p['slanje.validacija_obaveznoPrima']}"
                                                 class="form-control">
                                        <f:validateRegex pattern=".+\@.+\..+"/>
                                    </h:inputText>
                                </div>
                                <div class="col-md-10">
                                </div>
                            </div> 
                            <div class="form-group">
                                <h:outputLabel value="#{p['slanje.labela_salje']}"
                                               class="col-md-2 control-label"/>
                                <div class="col-md-6">
                                    <h:inputText value="#{slanjePoruka.salje}" 
                                                 validatorMessage="#{p['slanje.validacija_salje']}"
                                                 required="true"
                                                 requiredMessage="#{p['slanje.validacija_obaveznoSalje']}"
                                                 class="form-control">
                                        <f:validateRegex pattern=".+\@.+\..+"/>
                                    </h:inputText> 
                                </div>
                                <div class="col-md-10">
                                </div>
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="#{p['slanje.labela_predmet']}"
                                               class="col-md-2 control-label"/>
                                <div class="col-md-6">
                                    <h:inputText value="#{slanjePoruka.predmet}"
                                                 validatorMessage="#{p['slanje.validacija_predmet']}"
                                                 class="form-control">
                                        <f:validateLength minimum="10"/>
                                    </h:inputText>
                                    <br/>
                                </div>
                                <div class="col-md-10">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <h:outputLabel value="#{p['slanje.labela_poruka']}"/><br/> 
                            <h:panelGrid columns="2">
                                <h:inputTextarea rows="10" cols="50"
                                                 value="#{slanjePoruka.privitakSadrzaj}"
                                                 validatorMessage="#{p['slanje.validacija_poruka']}"
                                                 class="form-control">
                                    <f:validator validatorId="org.foi.nwtis.damdrempe.web.kontrole.JsonValidator" />
                                </h:inputTextarea>

                                <h:selectOneListbox size="5" 
                                                    value="#{slanjePoruka.odabranaDatoteka}"
                                                    class="form-control">
                                    <f:selectItems value="#{slanjePoruka.popisDatoteka}"
                                                   var="d" itemLabel="#{d}" itemValue="#{d}"/>
                                </h:selectOneListbox>

                                <h:commandButton value="#{p['slanje.gumb_saljiPoruku']}"
                                                 action="#{slanjePoruka.saljiPoruku()}"
                                                 class="btn btn-primary" />
                                <h:commandButton value="#{p['slanje.gumb_preuzmiSadrzaj']}"
                                                 action="#{slanjePoruka.preuzmiSadrzaj()}"
                                                 class="btn btn-default"/> 
                                <h:commandButton value="#{p['slanje.gumb_obrisiPoruku']}"
                                                 action="#{slanjePoruka.obrisiPoruku()}" 
                                                 class="btn btn-danger" />
                            </h:panelGrid>
                        </div>

                    </div>


                </h:form>
            </h:body>
        </div>
    </f:view>
</html>

